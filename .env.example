# ============================================================================
# ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to git
# For production, use secure secrets management (AWS Secrets Manager, etc)

# ============================================================================
# CORE APPLICATION
# ============================================================================
NODE_ENV="development"
# Values: development, staging, production

NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_NAME="Páginas para o Comércio"

# ============================================================================
# DATABASE (CRITICAL - REQUIRED)
# ============================================================================
# PostgreSQL connection string
# Examples:
#   - Supabase: postgresql://postgres:password@db.xxxxx.supabase.co:5432/postgres
#   - Neon: postgresql://user:password@ep-xxxxx.us-east-1.neon.tech/dbname
#   - Local: postgresql://postgres:password@localhost:5432/paginas_comercio
DATABASE_URL="postgresql://user:password@localhost:5432/paginas_comercio"

# Direct connection (bypass pgBouncer if using connection pooling)
DIRECT_URL="postgresql://user:password@localhost:5432/paginas_comercio"

# ============================================================================
# AUTHENTICATION & SECURITY (CRITICAL - REQUIRED)
# ============================================================================
# NextAuth Configuration
NEXTAUTH_URL="http://localhost:3000"

# GENERATE SECURE SECRET: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-min-32-chars-change-this"

# JWT Secret (separate JWT operations)
JWT_SECRET="your-jwt-secret-min-32-chars"

# ============================================================================
# STORAGE (S3 / DigitalOcean Spaces)
# ============================================================================
NEXT_PUBLIC_STORAGE_TYPE="s3"
# Options: s3, digitalocean, local

# DigitalOcean Spaces
S3_ENDPOINT="https://nyc3.digitaloceanspaces.com"
S3_REGION="nyc3"
S3_BUCKET="paginas-comercio"
S3_ACCESS_KEY_ID="your-access-key"
S3_SECRET_ACCESS_KEY="your-secret-key"
NEXT_PUBLIC_S3_URL="https://paginas-comercio.nyc3.digitaloceanspaces.com"

# AWS S3 (alternative)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret"

# ============================================================================
# CDN
# ============================================================================
NEXT_PUBLIC_CDN_URL="https://cdn.example.com"

# ============================================================================
# PAYMENT GATEWAY (Stripe)
# ============================================================================
STRIPE_SECRET_KEY="sk_test_your_secret_key"
STRIPE_PUBLISHABLE_KEY="pk_test_your_publishable_key"
STRIPE_WEBHOOK_SECRET="whsec_test_your_webhook_secret"

# ============================================================================
# MONITORING & OBSERVABILITY (Sentry)
# ============================================================================
NEXT_PUBLIC_SENTRY_DSN="https://your-sentry-dsn@sentry.io/your-project-id"
SENTRY_AUTH_TOKEN="your-sentry-auth-token"
SENTRY_ENVIRONMENT="development"

# ============================================================================
# CACHE & MESSAGE QUEUE (Redis)
# ============================================================================
# Redis for rate limiting, caching, job queue
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""

# ============================================================================
# EMAIL SERVICE
# ============================================================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="noreply@paginas-comercio.com"

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL="info"
# Values: debug, info, warn, error

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS="900000"
# 900000 ms = 15 minutes
RATE_LIMIT_MAX_REQUESTS="100"

# ============================================================================
# PAGINATION
# ============================================================================
DEFAULT_PAGE_SIZE="10"
MAX_PAGE_SIZE="100"

# ============================================================================
# THIRD-PARTY APIs
# ============================================================================
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CLIENT_SECRET=your-google-client-secret

# === Feature Flags ===
NEXT_PUBLIC_FEATURE_ANALYTICS=true
NEXT_PUBLIC_FEATURE_CUSTOM_DOMAIN=true
NEXT_PUBLIC_FEATURE_WEBHOOKS=true

# === Logging ===
LOG_LEVEL=info
ENABLE_MORGAN=true
